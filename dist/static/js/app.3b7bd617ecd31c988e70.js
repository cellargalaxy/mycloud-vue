webpackJsonp([1],{"+Zsc":function(e,t){},"1/oy":function(e,t){},"36QL":function(e,t){},"3zXX":function(e,t){},"6E2w":function(e,t){},"6lWF":function(e,t){},"7w3o":function(e,t){},"9M+g":function(e,t){},ClYl:function(e,t){},DFN7:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},Jv13:function(e,t){},MtKx:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(e){n("3zXX")},null,null).exports,a=n("/ocq");function o(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t}function u(e){alert(e)}function l(e){return confirm(e)}function c(e,t){if(null==t)return!1;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var s=0;s<r.length;s++){var a=r[s];if(null!=a){if(null==t[a]||!isNaN(t[a])&&t[a]<1)return console.log("非法参数,"+a+":"+t[a]),u("非法参数,"+a+":"+t[a]),!1;if(isNaN(t[a])&&(t[a]=t[a].trim(),0==t[a].length))return console.log("非法参数,"+a+":"+t[a]),u("非法参数,"+a+":"+t[a]),!1}}return null==e||l(e)}var m={formatTimestamp:function(e,t){return o(new Date(e),t)},formatDate:o,formatFileSize:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+216e5),document.cookie=e+"="+t+"; expires="+n.toGMTString()},successInfo:function(e){alert(e)},errorInfo:u,confirmBox:l,checkParameterAnd:c,checkParameterOr:function(e,t){if(null==t)return!1;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var s=0;s<r.length;s++){var a=r[s];if(null!=a&&null!=t[a]){if(!isNaN(t[a])&&t[a]>0)return null==e||l(e);if(isNaN(t[a])&&(t[a]=t[a].trim(),t[a].length>0))return null==e||l(e)}}return console.log("无有效参数"),console.log(r),console.log(t),u("无有效参数"),!1},checkQueryParameter:function(e){if(null==e)return!1;if(null==e.pageSize||isNaN(e.pageSize)||e.pageSize<1||e.pageSize>100)return console.log("非法参数,pageSize:"+e.pageSize),u("非法参数,pageSize"+e.pageSize),!1;if(null==e.page||isNaN(e.page)||e.page<1)return console.log("非法参数,page:"+e.page),u("非法参数,page"+e.page),!1;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c.apply(void 0,[null,e].concat(n))}},d=n("mvHQ"),f=n.n(d),p=n("//Fk"),h=n.n(p),g=n("mtWM"),v=n.n(g),b=n("mw3O"),w=n.n(b),I="http://api.mycloud.cellargalaxy.top",y=v.a.create({baseURL:I,timeout:36e5}),k=v.a.create({baseURL:I,timeout:5e3});k.interceptors.request.use(function(e){return e.data=w.a.stringify(e.data),e.headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:x()},e});var z=v.a.create({baseURL:I,timeout:5e3});z.interceptors.request.use(function(e){return e.data=w.a.stringify(e.data),e.headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:x()},e},function(e){return console.log(e),m.errorInfo("网络异常:"+e),h.a.reject(e)}),z.interceptors.response.use(function(e){if(1!=e.data.status)throw m.errorInfo(e.data.massage),new Error(e.data.massage);return e},function(e){return console.log(e),m.errorInfo("网络异常:"+e),h.a.reject(e)});var T=null;function x(){return null==T&&(T=m.getCookie("Authorization")),T}var _={baseAxios:y,simpleAxios:k,instance:z,baseURL:I,setToken:function(e){T=e,m.setCookie("Authorization",e)},getToken:x,createEmtryAxios:function(){return{then:function(){},catch:function(){}}},logined:function(){return null!=x()&&"null"!=x()}};function A(e){m.setCookie("userAuthorization",f()(e))}var P={login:function(e,t){return m.checkParameterAnd(null,{username:e,password:t},"username","password"),_.instance.post("/login",{username:e,password:t})},getUserAuthorization:function(e,t){return _.setToken(e),_.simpleAxios.get("/user/user/getUserAuthorization",{params:{username:t}})},setCurrentUserAuthorization:A,getCurrentUserAuthorization:function(){var e=m.getCookie("userAuthorization");return void 0!=e&&null!=e&&e.length>0?JSON.parse(e):null},setLogin:function(e){A(e)},setLogout:function(){_.setToken(null),A(null)}},O={render:function(){var e=this.$createElement;return(this._self._c||e)("b-nav-item",{attrs:{href:"#"+this.url,active:this.$route.path==this.url}},[this._v(this._s(this.title))])},staticRenderFns:[]};var S={name:"navbar",data:function(){return{loginForm:{username:null,password:null},token:null,userAuthorization:null}},created:function(){this.getUserAuthorization()},computed:{logined:function(){return null!=this.userAuthorization}},methods:{getUserAuthorization:function(){var e=this;this.userAuthorization=P.getCurrentUserAuthorization(),null==this.userAuthorization&&P.getUserAuthorization(this.token,this.loginForm.username).then(function(t){1==t.data.status?(e.userAuthorization=t.data.data,P.setLogin(e.userAuthorization),m.successInfo("登录成功")):m.errorInfo(t.data.massage)}).catch(function(t){e.logout()})},hasPermission:function(e){if(null==this.userAuthorization||null==this.userAuthorization.authorizations)return!1;for(var t=0;t<this.userAuthorization.authorizations.length;t++)if(this.userAuthorization.authorizations[t].permissionName==e)return!0;return!1},login:function(e){var t=this;e.preventDefault(),P.login(this.loginForm.username,this.loginForm.password).then(function(e){t.token=e.data.data,t.getUserAuthorization()})},logout:function(){this.loginForm={username:null,password:null},this.userAuthorization=null,P.setLogout()}},components:{"my-nav-item":n("VU/8")({name:"myNavItem",props:["url","title"]},O,!1,function(e){n("+Zsc")},"data-v-28f33d14",null).exports}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{attrs:{toggleable:"xl",type:"light",variant:"light"}},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),n("b-navbar-brand",{attrs:{href:"#/"}},[n("img",{staticClass:"d-inline-block align-top",staticStyle:{"max-height":"2em"},attrs:{src:"/static/favicon.ico",fluid:"",alt:"mycloud"}}),e._v("\n    mycloud\n  ")]),e._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",[n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("USER"),expression:"hasPermission('USER')"}],attrs:{title:"查询上传",url:"/user/queryUploadFile"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("USER"),expression:"hasPermission('USER')"}],attrs:{title:"文件管理",url:"/user/own"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("USER"),expression:"hasPermission('USER')"}],attrs:{title:"个人主页",url:"/user/user"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ADMIN"),expression:"hasPermission('ADMIN')"}],attrs:{title:"所属管理",url:"/admin/own"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ADMIN"),expression:"hasPermission('ADMIN')"}],attrs:{title:"文件配置",url:"/admin/driveInfo"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ADMIN"),expression:"hasPermission('ADMIN')"}],attrs:{title:"任务日志",url:"/admin/task"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ADMIN"),expression:"hasPermission('ADMIN')"}],attrs:{title:"异常日志",url:"/admin/exceptionInfo"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ROOT"),expression:"hasPermission('ROOT')"}],attrs:{title:"用户管理",url:"/admin/user"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ROOT"),expression:"hasPermission('ROOT')"}],attrs:{title:"权限管理",url:"/admin/permission"}}),e._v(" "),n("my-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.hasPermission("ROOT"),expression:"hasPermission('ROOT')"}],attrs:{title:"授权管理",url:"/admin/userAuthorization"}})],1),e._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-form",{directives:[{name:"show",rawName:"v-show",value:!e.logined,expression:"!logined"}],on:{submit:e.login}},[n("b-form-input",{attrs:{size:"sm",type:"text",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}}),e._v(" "),n("b-form-input",{attrs:{size:"sm",type:"password",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),n("b-button",{attrs:{size:"sm",type:"submit"}},[e._v("登录")])],1),e._v(" "),n("b-nav-item",{directives:[{name:"show",rawName:"v-show",value:e.logined,expression:"logined"}],attrs:{href:"#/"},on:{click:e.logout}},[n("b-button",{attrs:{size:"sm"}},[e._v("注销")])],1)],1)],1)],1)},staticRenderFns:[]};var F=n("VU/8")(S,U,!1,function(e){n("6E2w")},"data-v-3ba3c7e0",null).exports,N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",[n("b-col",[n("b-card",[n("b-button",{attrs:{size:"sm",variant:"link"},on:{click:function(t){e.chooseSort(null)}}},[e._v("取消选择分类")]),e._v(" "),n("b-form-radio-group",{attrs:{options:e.sorts},on:{input:e.chooseSort},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1)],1)],1)},staticRenderFns:[]};var E=n("VU/8")({name:"sortRadioCard",data:function(){return{sort:null}},props:{sorts:{default:function(){return["动漫","电影","游戏"]}}},methods:{chooseSort:function(e){this.sort=e,this.$emit("chooseSort",this.sort)}}},N,!1,function(e){n("Z7RD")},"data-v-4b409acb",null).exports;function C(e){return null!=e&&!isNaN(e)}var M={initOwn:function(e){return C(e.createTime)&&(e.createTime=m.formatTimestamp(e.createTime,"yyyy-MM-dd hh:mm:ss")),C(e.updateTime)&&(e.updateTime=m.formatTimestamp(e.updateTime,"yyyy-MM-dd hh:mm:ss")),C(e.fileLength)&&(e.fileLength=m.formatFileSize(e.fileLength)),e},initFileInfo:function(e){return C(e.createTime)&&(e.createTime=m.formatTimestamp(e.createTime,"yyyy-MM-dd hh:mm:ss")),C(e.updateTime)&&(e.updateTime=m.formatTimestamp(e.updateTime,"yyyy-MM-dd hh:mm:ss")),C(e.fileLength)&&(e.fileLength=m.formatFileSize(e.fileLength)),e},initDriveInfo:function(e){return C(e.useSpace)&&(e.useSpace=m.formatFileSize(e.useSpace)),C(e.freeSpace)&&(e.freeSpace=m.formatFileSize(e.freeSpace)),C(e.totalSpace)&&(e.totalSpace=m.formatFileSize(e.totalSpace)),C(e.usePhysicalMemorySize)&&(e.usePhysicalMemorySize=m.formatFileSize(e.usePhysicalMemorySize)),C(e.freePhysicalMemorySize)&&(e.freePhysicalMemorySize=m.formatFileSize(e.freePhysicalMemorySize)),C(e.totalPhysicalMemorySize)&&(e.totalPhysicalMemorySize=m.formatFileSize(e.totalPhysicalMemorySize)),C(e.freeSwapSpaceSize)&&(e.freeSwapSpaceSize=m.formatFileSize(e.freeSwapSpaceSize)),C(e.totalSwapSpaceSize)&&(e.totalSwapSpaceSize=m.formatFileSize(e.totalSwapSpaceSize)),e},initTask:function(e){var t;return C(e.createTime)&&(e.createTime=m.formatTimestamp(e.createTime,"yyyy-MM-dd hh:mm:ss")),C(e.finishTime)&&(e.finishTime=m.formatTimestamp(e.finishTime,"yyyy-MM-dd hh:mm:ss")),C(e.status)&&(e.status=1==(t=e.status)?"等待":2==t?"正在":3==t?"取消":4==t?"成功":5==t?"失败":t),e},initExceptionInfo:function(e){return C(e.date)&&(e.date=m.formatTimestamp(e.date,"yyyy-MM-dd hh:mm:ss")),e},initUserAuthorization:function(e){e.authorizationForm={userId:e.user.userId,permissionId:0};for(var t=0;t<e.authorizations.length;t++)C(e.authorizations[t].createTime)&&(e.authorizations[t].createTime=m.formatTimestamp(e.authorizations[t].createTime,"yyyy-MM-dd hh:mm:ss")),C(e.authorizations[t].updateTime)&&(e.authorizations[t].updateTime=m.formatTimestamp(e.authorizations[t].updateTime,"yyyy-MM-dd hh:mm:ss"));return e},initUser:function(e){return e.userPassword=null,C(e.createTime)&&(e.createTime=m.formatTimestamp(e.createTime,"yyyy-MM-dd hh:mm:ss")),C(e.updateTime)&&(e.updateTime=m.formatTimestamp(e.updateTime,"yyyy-MM-dd hh:mm:ss")),e},initPermission:function(e){return C(e.createTime)&&(e.createTime=m.formatTimestamp(e.createTime,"yyyy-MM-dd hh:mm:ss")),C(e.updateTime)&&(e.updateTime=m.formatTimestamp(e.updateTime,"yyyy-MM-dd hh:mm:ss")),e}},$={render:function(){var e=this.$createElement;return(this._self._c||e)("b-img",{attrs:{src:this.src,center:"","fluid-grow":""}})},staticRenderFns:[]};var R=n("VU/8")({name:"myImg",props:{src:{required:!0},contentType:{default:null}}},$,!1,function(e){n("dDvg")},"data-v-359d4b13",null).exports,L={name:"ownModal",data:function(){return{tmpShow:this.show}},props:{show:{default:!1},own:{default:function(){return{ownId:0,userId:0,fileId:0,fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:163740,contentType:"image/png",url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png"}}}},watch:{show:function(e){this.tmpShow=e},tmpShow:function(e){this.$emit("hide",e)},own:function(e){this.own=M.initOwn(e)}},created:function(){this.own=M.initOwn(this.own)},methods:{changeOwn:function(){this.$emit("changeOwn",this.own),this.tmpShow=!1},removeOwn:function(){this.$emit("removeOwn",this.own),this.tmpShow=!1},hideModel:function(e){this.tmpShow=!1}},components:{"my-img":R}},Q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{title:"修改"+e.own.username+"的"+e.own.fileName,centered:""},on:{hide:e.hideModel},model:{value:e.tmpShow,callback:function(t){e.tmpShow=t},expression:"tmpShow"}},[n("b-container",{attrs:{fluid:""}},[n("my-img",{attrs:{src:e.own.url}}),e._v(" "),n("b-form",{on:{submit:e.changeOwn}},[n("b-input-group",{attrs:{prepend:"文件名",size:"sm"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.own.fileName,callback:function(t){e.$set(e.own,"fileName",t)},expression:"own.fileName"}})],1),e._v(" "),n("b-input-group",{attrs:{prepend:"分类",size:"sm"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.own.sort,callback:function(t){e.$set(e.own,"sort",t)},expression:"own.sort"}})],1),e._v(" "),n("b-input-group",{attrs:{prepend:"",size:"sm"}},[n("b-form-textarea",{attrs:{rows:"1",placeholder:"描述"},model:{value:e.own.description,callback:function(t){e.$set(e.own,"description",t)},expression:"own.description"}})],1),e._v(" "),n("b-input-group",{attrs:{prepend:"md5",size:"sm"}},[n("b-form-input",{attrs:{value:e.own.md5,readonly:""}})],1),e._v(" "),n("b-input-group",{attrs:{prepend:"url",size:"sm"}},[n("b-form-input",{attrs:{value:e.own.url,readonly:""}})],1),e._v(" "),n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{value:e.own.fileLength,readonly:""}}),e._v(" "),n("b-form-input",{attrs:{value:e.own.contentType,readonly:""}})],1),e._v(" "),n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{value:e.own.createTime,readonly:""}}),e._v(" "),n("b-form-input",{attrs:{value:e.own.updateTime,readonly:""}})],1)],1)],1),e._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("b-btn",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:e.hideModel}},[e._v("取消")]),e._v(" "),n("b-btn",{attrs:{size:"sm",variant:"outline-warning"},on:{click:e.changeOwn}},[e._v("保存")]),e._v(" "),n("b-btn",{attrs:{size:"sm",variant:"outline-danger"},on:{click:e.removeOwn}},[e._v("删除")])],1)],1)},staticRenderFns:[]};var D=n("VU/8")(L,Q,!1,function(e){n("PVaj")},"data-v-45a31c50",null).exports,V={name:"ownTableTemplate",data:function(){return{modelShow:!1}},props:{own:{default:function(){return{ownId:0,userId:0,fileId:0,fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:163740,contentType:"image/png",url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png"}}}},methods:{changeOwn:function(e){this.$emit("changeOwn",e)},removeOwn:function(e){this.$emit("removeOwn",e)},showModel:function(){this.modelShow=!0},hideModel:function(e){this.modelShow=e}},components:{"own-img-modal":D}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-button",{attrs:{size:"sm",variant:"link"},on:{click:e.showModel}},[e._v("详细")]),e._v(" "),n("own-img-modal",{attrs:{own:e.own,show:e.modelShow},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn,hide:e.hideModel}})],1)},staticRenderFns:[]};var W={name:"ownTable",data:function(){return{fields:[{key:"detail",label:"detail"},{key:"username",label:"user",sortable:!0},{key:"sort",label:"sort",sortable:!0},{key:"fileName",label:"name",sortable:!0},{key:"fileLength",label:"size"},{key:"contentType",label:"type",sortable:!0},{key:"url",label:"url"},{key:"updateTime",label:"time",sortable:!0}],own:{}}},props:{owns:{default:function(){return[{ownId:0,userId:0,fileId:0,fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:163740,contentType:"image/png",url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png"},{ownId:0,userId:0,fileId:0,fileName:"5b7bbc8ec3633.jpg",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"84d91144667fb45e1ad9d8d213a089db",fileLength:163740,contentType:"image/jpeg",url:"https://i.loli.net/2018/08/21/5b7bbc8ec3633.jpg"},{ownId:0,userId:0,fileId:0,fileName:"5accdcbcb1738.jpg",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"f1098091bf7c85bd106c412b1769d5c2",fileLength:163740,contentType:"image/jpeg",url:"https://i.loli.net/2018/04/10/5accdcbcb1738.jpg"}]}}},watch:{owns:function(e){this.owns=e;for(var t=0;t<this.owns.length;t++)this.owns[t]=M.initOwn(this.owns[t])}},created:function(){for(var e=0;e<this.owns.length;e++)this.owns[e]=M.initOwn(this.owns[e])},methods:{changeOwn:function(e){this.$emit("changeOwn",e)},removeOwn:function(e){this.$emit("removeOwn",e)}},components:{"own-table-template":n("VU/8")(V,j,!1,function(e){n("vQJW")},"data-v-461b654b",null).exports}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{hover:"",small:"","foot-clone":"",responsive:"",items:e.owns,fields:e.fields},scopedSlots:e._u([{key:"detail",fn:function(t){return[n("own-table-template",{attrs:{own:t.item},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn}})]}}])})},staticRenderFns:[]};var q=n("VU/8")(W,B,!1,function(e){n("duvx")},"data-v-3aefcc75",null).exports,J={name:"ownImgCard",data:function(){return{modelShow:!1}},props:{own:{default:function(){return{ownId:0,userId:0,fileId:0,fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:163740,contentType:"image/png",url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png"}}}},watch:{own:function(e){this.own=M.initOwn(e)}},created:function(){this.own=M.initOwn(this.own)},methods:{changeOwn:function(e){this.$emit("changeOwn",e)},removeOwn:function(e){this.$emit("removeOwn",e)},showModal:function(){this.modelShow=!0},hideModal:function(e){this.modelShow=e}},components:{"my-img":R,"own-img-modal":D}},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"no-body":""}},[n("div",{on:{click:e.showModal}},[n("my-img",{attrs:{src:e.own.url}})],1),e._v(" "),n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{type:"text",placeholder:"文件名"},model:{value:e.own.fileName,callback:function(t){e.$set(e.own,"fileName",t)},expression:"own.fileName"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-warning"},on:{click:function(t){e.changeOwn(e.own)}}},[e._v("修改")])],1)],1),e._v(" "),n("own-img-modal",{attrs:{own:e.own,show:e.modelShow},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn,hide:e.hideModal}})],1)},staticRenderFns:[]};var K={name:"ownImgWall",props:{owns:{default:function(){return[{ownId:0,userId:0,fileId:0,fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:163740,contentType:"image/png",url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png"},{ownId:0,userId:0,fileId:0,fileName:"5b7bbc8ec3633.jpg",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"84d91144667fb45e1ad9d8d213a089db",fileLength:163740,contentType:"image/jpeg",url:"https://i.loli.net/2018/08/21/5b7bbc8ec3633.jpg"},{ownId:0,userId:0,fileId:0,fileName:"5accdcbcb1738.jpg",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"f1098091bf7c85bd106c412b1769d5c2",fileLength:163740,contentType:"image/jpeg",url:"https://i.loli.net/2018/04/10/5accdcbcb1738.jpg"}]}}},methods:{changeOwn:function(e){this.$emit("changeOwn",e)},removeOwn:function(e){this.$emit("removeOwn",e)}},components:{"own-img-card":n("VU/8")(J,Y,!1,function(e){n("MtKx")},"data-v-672e41f8",null).exports}},H={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",e._l(e.owns,function(t,r){return n("b-col",{key:r,attrs:{sm:"4",md:"3",lg:"2",xl:"2"}},[n("own-img-card",{attrs:{own:t},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn}})],1)}))},staticRenderFns:[]};var Z=n("VU/8")(K,H,!1,function(e){n("YlB8")},"data-v-1c6d64c2",null).exports,G={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-pagination",{attrs:{"total-rows":e.total,"per-page":e.pageSize,align:"center"},on:{change:e.change},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})},staticRenderFns:[]};var X=n("VU/8")({name:"pagination",data:function(){return{currentPage:1}},methods:{change:function(e){this.$emit("turnPage",e)}},props:["total","pageSize"]},G,!1,function(e){n("YM38")},"data-v-7cf6e1a6",null).exports,ee={name:"ownLayout",data:function(){return{ownTable:!1}},props:{sorts:{default:function(){return["动漫","电影","游戏"]}},owns:{default:function(){return[{ownId:0,userId:0,fileId:0,fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:163740,contentType:"image/png",url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png"},{ownId:0,userId:0,fileId:0,fileName:"5b7bbc8ec3633.jpg",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"84d91144667fb45e1ad9d8d213a089db",fileLength:163740,contentType:"image/jpeg",url:"https://i.loli.net/2018/08/21/5b7bbc8ec3633.jpg"},{ownId:0,userId:0,fileId:0,fileName:"5accdcbcb1738.jpg",sort:"动漫",description:null,createTime:15357312e5,updateTime:15357312e5,username:"mycloud",md5:"f1098091bf7c85bd106c412b1769d5c2",fileLength:163740,contentType:"image/jpeg",url:"https://i.loli.net/2018/04/10/5accdcbcb1738.jpg"}]}},total:{default:4},pageSize:{default:20}},methods:{chooseSort:function(e){this.$emit("chooseSort",e)},changeOwn:function(e){this.$emit("changeOwn",e)},removeOwn:function(e){this.$emit("removeOwn",e)},turnPage:function(e){this.$emit("turnPage",e)}},components:{"own-table":q,"own-img-wall":Z,pagination:X}},te={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",[n("b-col",[n("b-card",[n("b-form-radio-group",{attrs:{size:"sm",buttons:"",options:[{text:"图片墙",value:!1},{text:"表格",value:!0}]},model:{value:e.ownTable,callback:function(t){e.ownTable=t},expression:"ownTable"}})],1)],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",[e.ownTable?n("own-table",{attrs:{owns:e.owns},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn}}):e._e(),e._v(" "),e.ownTable?e._e():n("own-img-wall",{attrs:{owns:e.owns},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn}})],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",[n("pagination",{attrs:{total:e.total,pageSize:e.pageSize},on:{turnPage:e.turnPage}})],1)],1)],1)},staticRenderFns:[]};var ne=n("VU/8")(ee,te,!1,function(e){n("Qu5K")},"data-v-7d0b06ea",null).exports,re="/user/own";var ie={addOwn:function(e,t,n,r){return _.instance.post(re+"/addOwn",{fileId:e,fileName:t,sort:n,description:r})},removeOwn:function(e,t,n,r,i,s){return _.instance.post(re+"/removeOwn",{fileId:e,fileName:t,sort:n,description:r,createTime:i,updateTime:s})},getOwn:function(e,t,n,r,i,s){return _.instance.get(re+"/getOwn",{params:{fileId:e,fileName:t,sort:n,description:r,createTime:i,updateTime:s}})},getOwnCount:function(e,t,n,r,i,s,a,o){return _.instance.get(re+"/getOwnCount",{params:{pageSize:e,page:t,fileId:n,fileName:r,sort:i,description:s,createTime:a,updateTime:o}})},listOwn:function(e,t,n,r,i,s,a,o){return _.instance.get(re+"/listOwn",{params:{pageSize:e,page:t,fileId:n,fileName:r,sort:i,description:s,createTime:a,updateTime:o}})},listSort:function(e,t,n,r,i,s,a,o){return _.instance.get(re+"/listSort",{params:{pageSize:e,page:t,fileId:n,fileName:r,sort:i,description:s,createTime:a,updateTime:o}})},changeOwn:function(e,t,n,r,i,s){return _.instance.post(re+"/changeOwn",{ownId:e,userId:t,fileId:n,fileName:r,sort:i,description:s})},checkAddOwn:function(e,t,n,r){return _.instance.get(re+"/checkAddOwn",{params:{fileId:e,fileName:t,sort:n,description:r}})},checkChangeOwn:function(e,t,n,r,i,s){return _.instance.get(re+"/checkChangeOwn",{params:{ownId:e,userId:t,fileId:n,fileName:r,sort:i,description:s}})}};var se={addOwn:function(e){return _.logined()&&m.checkParameterAnd("确认添加所属？",e,"fileId","fileName","sort")?ie.addOwn(e.fileId,e.fileName,e.sort,e.description):_.createEmtryAxios()},removeOwn:function(e){return _.logined()&&m.checkParameterOr("确认删除所属？",e,"fileId","fileName","sort")?ie.removeOwn(e.fileId,e.fileName,e.sort,null,null,null):_.createEmtryAxios()},createOwnQuery:function(){return{pageSize:20,page:1,fileId:0,fileName:null,sort:null}},getOwnCount:function(e){return _.logined()&&m.checkQueryParameter(e)?ie.getOwnCount(e.pageSize,e.page,e.fileId,e.fileName,e.sort,null,null,null):_.createEmtryAxios()},listOwn:function(e){return _.logined()&&m.checkQueryParameter(e)?ie.listOwn(e.pageSize,e.page,e.fileId,e.fileName,e.sort,null,null,null):_.createEmtryAxios()},listSort:function(){return _.logined()?ie.listSort(100,1,0,null,null,null,null,null):_.createEmtryAxios()},changeOwn:function(e){return _.logined()&&m.checkParameterAnd("确认修改所属？",e,"ownId")?ie.changeOwn(e.ownId,e.userId,e.fileId,e.fileName,e.sort,e.description):_.createEmtryAxios()}},ae={name:"userOwnPage",data:function(){return{sorts:[],owns:[],total:20,ownQuery:se.createOwnQuery()}},created:function(){this.created()},methods:{created:function(){this.listSort(),this.listOwn(),this.getOwnCount()},chooseSort:function(e){this.ownQuery.sort=e,this.listOwn()},changeOwn:function(e){var t=this;se.changeOwn(e).then(function(e){m.successInfo("修改成功"),t.created()})},removeOwn:function(e){var t=this;se.removeOwn(e).then(function(e){m.successInfo("删除成功"),t.created()})},turnPage:function(e){this.ownQuery.page=e,this.listOwn()},listSort:function(){var e=this;se.listSort().then(function(t){e.sorts=t.data.data})},listOwn:function(){var e=this;this.owns=[],se.listOwn(this.ownQuery).then(function(t){e.owns=t.data.data})},getOwnCount:function(){var e=this;se.getOwnCount(this.ownQuery).then(function(t){e.total=t.data.data})}},components:{navbar:F,"sort-radio-card":E,"own-layout":ne}},oe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[n("navbar")],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",[n("sort-radio-card",{attrs:{sorts:e.sorts},on:{chooseSort:e.chooseSort}})],1)],1),e._v(" "),n("br"),e._v(" "),n("own-layout",{attrs:{owns:e.owns,total:e.total,pageSize:e.ownQuery.pageSize},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn,turnPage:e.turnPage}})],1)},staticRenderFns:[]};var ue=n("VU/8")(ae,oe,!1,function(e){n("wWpa")},"data-v-ab2fd2e2",null).exports,le="/user/fileInfo";var ce={getFileInfo:function(e,t,n,r,i){return _.instance.get(le+"/getFileInfo",{params:{fileId:e,md5:t,fileLength:n,contentType:r,createTime:i}})}};var me={getFileInfo:function(e){return _.logined()&&m.checkParameterOr(null,e,"fileId","md5")?ce.getFileInfo(e.fileId,e.md5,0,null,null):_.createEmtryAxios()}},de={name:"fileInfoQueryCard",data:function(){return{fileInfo:{md5:null,url:null,fileLength:null,contentType:null},own:{fileId:0,fileName:null,sort:null}}},methods:{getFileInfo:function(){var e=this;this.fileInfo={md5:this.fileInfo.md5,url:null,fileLength:null,contentType:null},this.own={fileId:0,fileName:null,sort:null},me.getFileInfo(this.fileInfo).then(function(t){null==t.data.data?m.errorInfo("查无文件，md5: "+e.fileInfo.md5):(e.fileInfo=t.data.data,e.fileInfo=M.initFileInfo(e.fileInfo))})},addOwn:function(){this.own.fileId=this.fileInfo.fileId,se.addOwn(this.own).then(function(e){m.successInfo("添加成功")})}}},fe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"img-src":e.fileInfo.url,"img-bottom":""}},[n("b-form",[n("b-input-group",{attrs:{prepend:"md5",size:"sm"}},[n("b-form-input",{model:{value:e.fileInfo.md5,callback:function(t){e.$set(e.fileInfo,"md5",t)},expression:"fileInfo.md5"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-secondary"},on:{click:e.getFileInfo}},[e._v("查询")])],1)],1),e._v(" "),null!=e.fileInfo.url?n("b-input-group",{attrs:{prepend:"",size:"sm"}},[n("b-form-input",{attrs:{placeholder:"文件名"},model:{value:e.own.fileName,callback:function(t){e.$set(e.own,"fileName",t)},expression:"own.fileName"}}),e._v(" "),n("b-form-input",{attrs:{placeholder:"分类"},model:{value:e.own.sort,callback:function(t){e.$set(e.own,"sort",t)},expression:"own.sort"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-success"},on:{click:e.addOwn}},[e._v("保存")])],1)],1):e._e(),e._v(" "),null!=e.fileInfo.url?n("b-input-group",{attrs:{prepend:"url",size:"sm"}},[n("b-form-input",{attrs:{value:e.fileInfo.url,readonly:""}})],1):e._e(),e._v(" "),null!=e.fileInfo.url?n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{value:e.fileInfo.fileLength,readonly:""}}),e._v(" "),n("b-form-input",{attrs:{value:e.fileInfo.contentType,readonly:""}})],1):e._e()],1)],1)},staticRenderFns:[]};var pe="/user/file";var he={uploadFile:function(e,t,n){for(var r=new FormData,i=0;i<e.length;i++)r.append("files",e[i]);r.append("sort",t),r.append("description",n);var s={headers:{"Content-Type":"multipart/form-data",Authorization:_.getToken()}};return _.baseAxios.post(_.baseURL+pe+"/uploadFile",r,s)}};var ge={uploadFile:function(e,t,n){if(!_.logined())return _.createEmtryAxios();if(null==e||0==e.length)return m.errorInfo("未选择文件"),_.createEmtryAxios();if(null==t||""==t)return m.errorInfo("分类不能为空"),_.createEmtryAxios();var r=e;return he.uploadFile(r,t,n)}},ve={name:"uploadFileCard",data:function(){return{sorts:[],uploadFileForm:{files:[],sort:null,description:null}}},created:function(){this.created()},methods:{created:function(){this.listSort()},listSort:function(){var e=this;se.listSort().then(function(t){e.sorts=t.data.data})},uploadFile:function(){ge.uploadFile(this.uploadFileForm.files,this.uploadFileForm.sort,this.uploadFileForm.description).then(function(e){m.successInfo("上传成功")})}}},be={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form",[n("b-input-group",{attrs:{prepend:""}},[n("b-form-file",{attrs:{state:Boolean(e.uploadFileForm.files),"no-drop":!0,multiple:!0,placeholder:"可以选择多个文件"},model:{value:e.uploadFileForm.files,callback:function(t){e.$set(e.uploadFileForm,"files",t)},expression:"uploadFileForm.files"}})],1),e._v(" "),n("b-form-group",{attrs:{label:""}},[n("b-input-group",{attrs:{prepend:""}},[n("b-form-input",{attrs:{type:"text",placeholder:"新分类"},model:{value:e.uploadFileForm.sort,callback:function(t){e.$set(e.uploadFileForm,"sort",t)},expression:"uploadFileForm.sort"}}),e._v(" "),n("b-form-select",{attrs:{options:e.sorts},model:{value:e.uploadFileForm.sort,callback:function(t){e.$set(e.uploadFileForm,"sort",t)},expression:"uploadFileForm.sort"}})],1)],1),e._v(" "),n("b-form-group",{attrs:{label:""}},[n("b-form-textarea",{attrs:{placeholder:"描述",rows:"3",maxlength:"256"},model:{value:e.uploadFileForm.description,callback:function(t){e.$set(e.uploadFileForm,"description",t)},expression:"uploadFileForm.description"}})],1),e._v(" "),n("b-button",{staticStyle:{width:"100%"},attrs:{type:"submit",variant:"primary"},on:{click:e.uploadFile}},[e._v("上传")])],1)],1)},staticRenderFns:[]};var we={name:"userQueryUploadFilePage",components:{navbar:F,"file-info-query-card":n("VU/8")(de,fe,!1,function(e){n("Jv13")},"data-v-1d00b0bc",null).exports,"upload-file-card":n("VU/8")(ve,be,!1,function(e){n("OxiG")},"data-v-99043fa4",null).exports}},Ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[n("navbar")],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",{attrs:{sm:"0",md:"2",lg:"2",xl:"3"}}),e._v(" "),n("b-col",{attrs:{sm:"12",md:"8",lg:"8",xl:"6"}},[n("file-info-query-card")],1),e._v(" "),n("b-col",{attrs:{sm:"0",md:"2",lg:"2",xl:"3"}})],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",{attrs:{sm:"0",md:"2",lg:"2",xl:"3"}}),e._v(" "),n("b-col",{attrs:{sm:"12",md:"8",lg:"8",xl:"6"}},[n("upload-file-card")],1),e._v(" "),n("b-col",{attrs:{sm:"0",md:"2",lg:"2",xl:"3"}})],1)],1)},staticRenderFns:[]};var ye=n("VU/8")(we,Ie,!1,function(e){n("VyMR")},"data-v-10d230a4",null).exports,ke="/user/user";var ze={getUser:function(e,t,n,r){return _.instance.get(ke+"/getUser",{params:{userId:e,username:t,createTime:n,updateTime:r}})},getUserAuthorization:function(e,t,n,r){return _.instance.get(ke+"/getUserAuthorization",{params:{userId:e,username:t,createTime:n,updateTime:r}})},changeUser:function(e,t,n){return _.instance.post(ke+"/changeUser",{userId:e,username:t,userPassword:n})},checkChangeUser:function(e,t,n){return _.instance.get(ke+"/checkChangeUser",{params:{userId:e,username:t,userPassword:n}})}};var Te={getUser:function(e){return _.logined()&&m.checkParameterOr(null,own,"userId","username")?ze.getUser(e.userId,e.username,null,null):_.createEmtryAxios()},getUserAuthorization:function(e){return _.logined()&&m.checkParameterOr(null,own,"userId","username")?ze.getUserAuthorization(e.userId,e.username,null,null):_.createEmtryAxios()},changeUser:function(e){return _.logined()&&m.checkParameterAnd("确认修改账号？",e,"userId")?ze.changeUser(e.userId,e.username,e.userPassword):_.createEmtryAxios()}},xe={name:"userCard",data:function(){return{currentUserAuthorization:null,user:{userId:0,username:null,userPassword:null}}},created:function(){this.created()},methods:{created:function(){this.currentUserAuthorization=P.getCurrentUserAuthorization(),null!=this.currentUserAuthorization&&(this.user.userId=this.currentUserAuthorization.user.userId)},changeUser:function(){var e=this;Te.changeUser(this.user).then(function(t){m.successInfo("修改成功"),e.user.username=null,e.user.userPassword=null})}}},_e={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form",[n("b-button-group",{attrs:{size:"sm"}},[n("b-button",[e._v("权限")]),e._v(" "),e._l(e.currentUserAuthorization.authorizations,function(t,r){return n("b-button",{key:r,domProps:{textContent:e._s(t.permissionName)}})})],2)],1),e._v(" "),n("br"),e._v(" "),n("b-form",[n("b-input-group",{attrs:{prepend:"新账号",size:"sm"}},[n("b-form-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-warning"},on:{click:e.changeUser}},[e._v("修改账号")])],1)],1)],1),e._v(" "),n("br"),e._v(" "),n("b-form",[n("b-input-group",{attrs:{prepend:"新密码",size:"sm"}},[n("b-form-input",{model:{value:e.user.userPassword,callback:function(t){e.$set(e.user,"userPassword",t)},expression:"user.userPassword"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-warning"},on:{click:e.changeUser}},[e._v("修改密码")])],1)],1)],1)],1)},staticRenderFns:[]};var Ae={name:"userUserPage",components:{navbar:F,"user-card":n("VU/8")(xe,_e,!1,function(e){n("fd5x")},"data-v-df51d9e0",null).exports}},Pe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",{attrs:{sm:"0",md:"2",lg:"2",xl:"3"}}),this._v(" "),t("b-col",{attrs:{sm:"12",md:"8",lg:"8",xl:"6"}},[t("user-card")],1),this._v(" "),t("b-col",{attrs:{sm:"0",md:"2",lg:"2",xl:"3"}})],1)],1)},staticRenderFns:[]};var Oe=n("VU/8")(Ae,Pe,!1,function(e){n("i3kx")},"data-v-413d6dd4",null).exports,Se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",[n("b-col",[n("b-card",[n("b-button",{attrs:{size:"sm",variant:"link"},on:{click:function(t){e.chooseUser(null)}}},[e._v("取消选择用户")]),e._v(" "),n("b-form-radio-group",{attrs:{options:e.options},on:{input:e.chooseUser},model:{value:e.userIndex,callback:function(t){e.userIndex=t},expression:"userIndex"}})],1)],1)],1)},staticRenderFns:[]};var Ue="/admin/own";var Fe={addOwn:function(e,t,n,r,i){return _.instance.post(Ue+"/addOwn",{userId:e,fileId:t,fileName:n,sort:r,description:i})},removeOwn:function(e,t,n,r,i,s,a,o){return _.instance.post(Ue+"/removeOwn",{ownId:e,userId:t,fileId:n,fileName:r,sort:i,description:s,createTime:a,updateTime:o})},getOwn:function(e){return _.instance.get(Ue+"/getOwn",{params:{ownId:e}})},getOwnCount:function(e,t,n,r,i,s,a,o,u,l){return _.instance.get(Ue+"/getOwnCount",{params:{pageSize:e,page:t,ownId:n,userId:r,fileId:i,fileName:s,sort:a,description:o,createTime:u,updateTime:l}})},listOwn:function(e,t,n,r,i,s,a,o,u,l){return _.instance.get(Ue+"/listOwn",{params:{pageSize:e,page:t,ownId:n,userId:r,fileId:i,fileName:s,sort:a,description:o,createTime:u,updateTime:l}})},listSort:function(e){return _.instance.get(Ue+"/listSort",{params:{userId:e}})},changeOwn:function(e,t,n,r,i,s){return _.instance.post(Ue+"/changeOwn",{ownId:e,userId:t,fileId:n,fileName:r,sort:i,description:s})},checkAddOwn:function(e,t,n,r,i){return _.instance.get(Ue+"/checkAddOwn",{params:{userId:e,fileId:t,fileName:n,sort:r,description:i}})},checkChangeOwn:function(e,t,n,r,i,s){return _.instance.get(Ue+"/checkChangeOwn",{params:{ownId:e,userId:t,fileId:n,fileName:r,sort:i,description:s}})}};var Ne={addOwn:function(e){return _.logined()&&m.checkParameterAnd("确认添加所属？",e,"userId","fileId","fileName","sort")?Fe.addOwn(e.userId,e.fileId,e.fileName,e.sort,e.description):_.createEmtryAxios()},removeOwn:function(e){return _.logined()&&m.checkParameterOr("确认删除所属？",e,"ownId","userId","fileId","fileName","sort")?Fe.removeOwn(e.ownId,e.userId,e.fileId,e.fileName,e.sort,null,null,null):_.createEmtryAxios()},createOwnQuery:function(){return{pageSize:20,page:1,ownId:0,userId:0,fileId:0,fileName:null,sort:null}},getOwnCount:function(e){return _.logined()&&m.checkQueryParameter(e)?Fe.getOwnCount(e.pageSize,e.page,e.ownId,e.userId,e.fileId,e.fileName,e.sort,null,null,null):_.createEmtryAxios()},listOwn:function(e){return _.logined()&&m.checkQueryParameter(e)?Fe.listOwn(e.pageSize,e.page,e.ownId,e.userId,e.fileId,e.fileName,e.sort,null,null,null):_.createEmtryAxios()},listSort:function(e){return _.logined()?Fe.listSort(e.userId):_.createEmtryAxios()},changeOwn:function(e){return _.logined()&&m.checkParameterAnd("确认修改所属？",e,"ownId")?Fe.changeOwn(e.ownId,e.userId,e.fileId,e.fileName,e.sort,e.description):_.createEmtryAxios()}},Ee="/admin/user";var Ce={addUser:function(e,t){return _.instance.post(Ee+"/addUser",{username:e,userPassword:t})},removeUser:function(e){return _.instance.post(Ee+"/removeUser",{userId:e})},getUser:function(e){return _.instance.get(Ee+"/getUser",{params:{userId:e}})},getUserCount:function(e,t,n,r,i,s){return _.instance.get(Ee+"/getUserCount",{params:{pageSize:e,page:t,userId:n,username:r,createTime:i,updateTime:s}})},listUser:function(e,t,n,r,i,s){return _.instance.get(Ee+"/listUser",{params:{pageSize:e,page:t,userId:n,username:r,createTime:i,updateTime:s}})},getUserAuthorization:function(e){return _.instance.get(Ee+"/getUserAuthorization",{params:{userId:e}})},listUserAuthorization:function(e,t,n,r,i,s){return _.instance.get(Ee+"/listUserAuthorization",{params:{pageSize:e,page:t,userId:n,username:r,createTime:i,updateTime:s}})},getUserOwn:function(e){return _.instance.get(Ee+"/getUserOwn",{params:{userId:e}})},listUserOwn:function(e,t,n,r,i,s){return _.instance.get(Ee+"/listUserOwn",{pageSize:e,page:t,userId:n,username:r,createTime:i,updateTime:s})},changeUser:function(e,t,n){return _.instance.post(Ee+"/changeUser",{userId:e,username:t,userPassword:n})},checkAddUser:function(e,t){return _.instance.get(Ee+"/checkAddUser",{params:{username:e,userPassword:t}})},checkChangeUser:function(e,t,n){return _.instance.get(Ee+"/checkChangeUser",{params:{userId:e,username:t,userPassword:n}})}};var Me={addUser:function(e){return _.logined()&&m.checkParameterAnd("确认添加用户？",e,"username","userPassword")?Ce.addUser(e.username,e.userPassword):_.createEmtryAxios()},removeUser:function(e){return _.logined()&&m.checkParameterAnd("确认删除用户？",e,"userId")?Ce.removeUser(e.userId):_.createEmtryAxios()},listAllUser:function(){return _.logined()?Ce.listUser(100,1,0,null,null,null):_.createEmtryAxios()},listAllUserAuthorization:function(){return _.logined()?Ce.listUserAuthorization(100,1,0,null,null,null):_.createEmtryAxios()},listAllUserOwn:function(){return _.logined()?Ce.listUserOwn(100,1,0,null,null,null):_.createEmtryAxios()},changeUser:function(e){return _.logined()&&m.checkParameterAnd("确认修改用户？",e,"userId")?Ce.changeUser(e.userId,e.username,e.userPassword):_.createEmtryAxios()}},$e={name:"adminOwnPage",data:function(){return{users:[],sorts:[],owns:[],total:20,ownQuery:Ne.createOwnQuery()}},created:function(){this.created()},methods:{created:function(){this.listAllUser(),this.listSort(),this.listOwn(),this.getOwnCount()},chooseSort:function(e){this.ownQuery.sort=e,this.listOwn()},changeOwn:function(e){var t=this;Ne.changeOwn(e).then(function(e){m.successInfo("修改成功"),t.created()})},removeOwn:function(e){var t=this;Ne.removeOwn(e).then(function(e){m.successInfo("删除成功"),t.created()})},turnPage:function(e){this.ownQuery.page=e,this.listOwn()},listSort:function(){var e=this;Ne.listSort({userId:0}).then(function(t){e.sorts=t.data.data})},listOwn:function(){var e=this;this.owns=[],Ne.listOwn(this.ownQuery).then(function(t){e.owns=t.data.data})},getOwnCount:function(){var e=this;Ne.getOwnCount(this.ownQuery).then(function(t){e.total=t.data.data})},listAllUser:function(){var e=this;Me.listAllUser().then(function(t){e.users=t.data.data})},chooseUser:function(e){this.ownQuery.userId=null==e?0:e.userId,this.listOwn()}},components:{navbar:F,"user-radio-card":n("VU/8")({name:"userRadioCard",data:function(){return{userIndex:null,options:[]}},props:{users:{default:function(){return[{userId:1,username:"cellargalaxy"}]}}},watch:{users:function(e){this.setOptions(e)}},created:function(){this.setOptions(this.users)},methods:{chooseUser:function(e){this.userIndex=e,this.$emit("chooseUser",this.users[this.userIndex])},setOptions:function(e){if(null!=e){this.options=[];for(var t=0;t<e.length;t++)this.options.push({text:e[t].username,value:t})}}}},Se,!1,function(e){n("36QL")},"data-v-2088744a",null).exports,"sort-radio-card":E,"own-layout":ne}},Re={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[n("navbar")],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",[n("user-radio-card",{attrs:{users:e.users},on:{chooseUser:e.chooseUser}})],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",[n("sort-radio-card",{attrs:{sorts:e.sorts},on:{chooseSort:e.chooseSort}})],1)],1),e._v(" "),n("br"),e._v(" "),n("own-layout",{attrs:{sorts:e.sorts,owns:e.owns,total:e.total,pageSize:e.ownQuery.pageSize},on:{chooseSort:e.chooseSort,changeOwn:e.changeOwn,removeOwn:e.removeOwn,turnPage:e.turnPage}})],1)},staticRenderFns:[]};var Le=n("VU/8")($e,Re,!1,function(e){n("YEan")},"data-v-23d62f7e",null).exports,Qe="/admin/file";var De={getDriveInfo:function(){return _.instance.get(Qe+"/getDriveInfo",{params:{}})},removeFile:function(e){return _.instance.post(Qe+"/removeFile",{fileId:e})},removeAllLocalFile:function(){return _.instance.post(Qe+"/removeAllLocalFile",{})}};var Ve={getDriveInfo:function(){return _.logined()?De.getDriveInfo():_.createEmtryAxios()},removeFile:function(e){return _.logined()&&m.checkParameterAnd("？！？！确认【删除】文件？！？！",e,"fileId")?De.removeFile(e.fileId):_.createEmtryAxios()},removeAllLocalFile:function(){return _.logined()&&m.confirmBox("确认删除全部本地文件？")?De.removeAllLocalFile():_.createEmtryAxios()}},je={name:"driveInfoTable",data:function(){return{driveInfoFields:[{key:"useSpace",label:"已用磁盘"},{key:"freeSpace",label:"空闲磁盘"},{key:"totalSpace",label:"总磁盘"},{key:"usePhysicalMemorySize",label:"已用内存"},{key:"freePhysicalMemorySize",label:"空闲内存"},{key:"totalPhysicalMemorySize",label:"总内存"},{key:"processCpuLoad",label:"进程CPU负载"},{key:"systemCpuLoad",label:" 系统CPU负载"},{key:"freeSwapSpaceSize",label:"空闲交换内存"},{key:"totalSwapSpaceSize",label:"总交换内存"},{key:"删除全部本地文件",label:"删除全部本地文件"}],driveInfos:[]}},created:function(){this.getDriveInfo()},methods:{getDriveInfo:function(){var e=this;Ve.getDriveInfo().then(function(t){e.driveInfos=[t.data.data];for(var n=0;n<e.driveInfos.length;n++)e.driveInfos[n].usePhysicalMemorySize=e.driveInfos[n].totalPhysicalMemorySize-e.driveInfos[n].freePhysicalMemorySize;for(var r=0;r<e.driveInfos.length;r++)e.driveInfos[r]=M.initDriveInfo(e.driveInfos[r])})},removeAllLocalFile:function(){Ve.removeAllLocalFile().then(function(e){m.successInfo("删除成功")})}}},We={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{stacked:"",items:e.driveInfos,fields:e.driveInfoFields},scopedSlots:e._u([{key:"删除全部本地文件",fn:function(t){return[n("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:e.removeAllLocalFile}},[e._v("删除全部本地文件")])]}}])})},staticRenderFns:[]};var Be={name:"adminDriveInfoPage",components:{navbar:F,"drive-info-table":n("VU/8")(je,We,!1,function(e){n("jJYA")},"data-v-dbf4fc20",null).exports}},qe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("drive-info-table")],1)],1)],1)},staticRenderFns:[]};var Je=n("VU/8")(Be,qe,!1,function(e){n("lJ7D")},"data-v-3bab7efa",null).exports,Ye={name:"taskTable",data:function(){return{fields:["任务详情",{key:"taskSort",label:"任务类型"},{key:"status",label:"状态"},{key:"username",label:"提交用户"},{key:"massage",label:"信息"},{key:"createTime",label:"创建时间",sortable:!0},{key:"finishTime",label:"完成时间",sortable:!0}]}},props:{waitTasks:{default:function(){return[{taskId:1,userId:3,createTime:1535687887e3,taskSort:"上传文件",status:4,massage:null,finishTime:1535687893e3,taskDetail:'{"ownPo":{"ownId":0,"userId":0,"fileId":0,"fileName":"5b7bb5dd4f0df.png","sort":"动漫","description":"null","createTime":1535731200000,"updateTime":1535731200000},"contentType":"image/png"}',username:"mycloud"}]}},tasks:{default:function(){return[{taskId:1,userId:3,createTime:1535687887e3,taskSort:"上传文件",status:4,massage:null,finishTime:1535687893e3,taskDetail:'{"ownPo":{"ownId":0,"userId":0,"fileId":0,"fileName":"5b7bb5dd4f0df.png","sort":"动漫","description":"null","createTime":1535731200000,"updateTime":1535731200000},"contentType":"image/png"}',username:"mycloud"}]}}},watch:{waitTasks:function(e){this.waitTasks=e;for(var t=0;t<this.waitTasks.length;t++)this.waitTasks[t]=M.initTask(this.waitTasks[t])},tasks:function(e){this.tasks=e;for(var t=0;t<this.tasks.length;t++)this.tasks[t]=M.initTask(this.tasks[t])}},created:function(){this.created()},methods:{created:function(){for(var e=0;e<this.waitTasks.length;e++)this.waitTasks[e]=M.initTask(this.waitTasks[e]);for(var t=0;t<this.tasks.length;t++)this.tasks[t]=M.initTask(this.tasks[t])}}},Ke={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",[n("b-col",[n("b-table",{attrs:{fields:e.fields,items:e.waitTasks},scopedSlots:e._u([{key:"任务详情",fn:function(t){return[n("b-button",{attrs:{size:"sm"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[e._v("任务详情")])]}},{key:"row-details",fn:function(e){return[n("b-form-textarea",{attrs:{plaintext:"",value:e.item.taskDetail,rows:3}})]}}])})],1)],1),e._v(" "),n("b-row",[n("b-col",[n("b-table",{attrs:{fields:e.fields,items:e.tasks},scopedSlots:e._u([{key:"任务详情",fn:function(t){return[n("b-button",{attrs:{size:"sm"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[e._v("任务详情")])]}},{key:"row-details",fn:function(e){return[n("b-form-textarea",{attrs:{plaintext:"",value:e.item.taskDetail,rows:3}})]}}])})],1)],1)],1)},staticRenderFns:[]};var He={name:"taskLayout",props:{waitTasks:{default:function(){return[{taskId:1,userId:3,createTime:1535687887e3,taskSort:"上传文件",status:4,massage:null,finishTime:1535687893e3,taskDetail:'{"ownPo":{"ownId":0,"userId":0,"fileId":0,"fileName":"5b7bb5dd4f0df.png","sort":"动漫","description":"null","createTime":1535731200000,"updateTime":1535731200000},"contentType":"image/png"}',username:"mycloud"}]}},tasks:{default:function(){return[{taskId:1,userId:3,createTime:1535687887e3,taskSort:"上传文件",status:4,massage:null,finishTime:1535687893e3,taskDetail:'{"ownPo":{"ownId":0,"userId":0,"fileId":0,"fileName":"5b7bb5dd4f0df.png","sort":"动漫","description":"null","createTime":1535731200000,"updateTime":1535731200000},"contentType":"image/png"}',username:"mycloud"}]}},total:{default:4},pageSize:{default:20}},methods:{turnPage:function(e){this.$emit("turnPage",e)}},components:{"task-table":n("VU/8")(Ye,Ke,!1,function(e){n("raIf")},"data-v-6cd80851",null).exports,pagination:X}},Ze={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("b-row",[t("b-col",[t("task-table",{attrs:{waitTasks:this.waitTasks,tasks:this.tasks}})],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("pagination",{attrs:{total:this.total,pageSize:this.pageSize},on:{turnPage:this.turnPage}})],1)],1)],1)},staticRenderFns:[]};var Ge="/admin/task";var Xe={removeWaitTask:function(e){return _.instance.post(Ge+"/removeWaitTask",{taskId:e})},getCurrentTask:function(){return _.instance.get(Ge+"/getCurrentTask",{params:{}})},listWaitTask:function(){return _.instance.get(Ge+"/listWaitTask",{params:{}})},getWaitTaskCount:function(){return _.instance.get(Ge+"/getWaitTaskCount",{params:{}})},removeTask:function(e){return _.instance.post(Ge+"/removeTask",{taskId:e})},getTask:function(e){return _.instance.get(Ge+"/getTask",{params:{taskId:e}})},listTask:function(e,t,n,r,i,s,a,o,u){return _.instance.get(Ge+"/listTask",{params:{pageSize:e,page:t,taskId:n,userId:r,createTime:i,taskSort:s,status:a,massage:o,finishTime:u}})},getTaskCount:function(e,t,n,r,i,s,a,o,u){return _.instance.get(Ge+"/getTaskCount",{params:{pageSize:e,page:t,taskId:n,userId:r,createTime:i,taskSort:s,status:a,massage:o,finishTime:u}})}};var et={removeWaitTask:function(e){return _.logined()&&m.checkParameterAnd("确认删除任务？",e,"taskId")?Xe.removeWaitTask(e.taskId):_.createEmtryAxios()},getCurrentTask:function(){return _.logined()?Xe.getCurrentTask():_.createEmtryAxios()},listWaitTask:function(){return _.logined()?Xe.listWaitTask():_.createEmtryAxios()},getWaitTaskCount:function(){return _.logined()?Xe.getWaitTaskCount():_.createEmtryAxios()},removeTask:function(e){return _.logined()&&m.checkParameterAnd("确认删除任务？",e,"taskId")?Xe.removeTask(e.taskId):_.createEmtryAxios()},createTaskQuery:function(){return{pageSize:20,page:1,taskId:0,userId:0,taskSort:null,status:0}},listTask:function(e){return _.logined()&&m.checkQueryParameter(e)?Xe.listTask(e.pageSize,e.page,e.taskId,e.userId,null,e.taskSort,e.status,null,null):_.createEmtryAxios()},getTaskCount:function(e){return _.logined()&&m.checkQueryParameter(e)?Xe.getTaskCount(e.pageSize,e.page,e.taskId,e.userId,null,e.taskSort,e.status,null,null):_.createEmtryAxios()}},tt={name:"adminTaskPage",data:function(){return{waitTasks:[],tasks:[],total:0,takeQuery:et.createTaskQuery()}},created:function(){this.created()},methods:{created:function(){this.listWaitTask(),this.listTask(),this.getTaskCount()},turnPage:function(e){this.takeQuery.page=e,this.listTask()},listWaitTask:function(){var e=this;this.waitTasks=[],et.listWaitTask().then(function(t){e.waitTasks=t.data.data})},listTask:function(){var e=this;this.tasks=[],et.listTask(this.takeQuery).then(function(t){e.tasks=t.data.data})},getTaskCount:function(){var e=this;et.getTaskCount(this.takeQuery).then(function(t){e.total=t.data.data})}},components:{navbar:F,"task-layout":n("VU/8")(He,Ze,!1,function(e){n("t/er")},"data-v-06a80c64",null).exports}},nt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("task-layout",{attrs:{waitTasks:this.waitTasks,tasks:this.tasks,total:this.total,pageSize:this.takeQuery.pageSize},on:{turnPage:this.turnPage}})],1)},staticRenderFns:[]};var rt=n("VU/8")(tt,nt,!1,function(e){n("R2p5")},"data-v-a307f898",null).exports,it="/admin/log";var st={clearExceptionInfo:function(){return _.instance.post(it+"/clearExceptionInfo",{})},getExceptionInfoCount:function(){return _.instance.get(it+"/getExceptionInfoCount",{params:{}})},listExceptionInfo:function(){return _.instance.get(it+"/listExceptionInfo",{params:{}})}};var at={clearExceptionInfo:function(){return _.logined()?st.clearExceptionInfo():_.createEmtryAxios()},getExceptionInfoCount:function(){return _.logined()?st.getExceptionInfoCount():_.createEmtryAxios()},listExceptionInfo:function(){return _.logined()?st.listExceptionInfo():_.createEmtryAxios()}},ot={name:"exceptionInfoTable",data:function(){return{fields:["异常栈",{key:"status",label:"状态"},{key:"massage",label:"信息"},{key:"date",label:"日期",sortable:!0}],exceptionInfos:[]}},created:function(){var e=this;at.listExceptionInfo().then(function(t){e.exceptionInfos=t.data.data;for(var n=0;n<e.exceptionInfos.length;n++)e.exceptionInfos[n]=M.initExceptionInfo(e.exceptionInfos[n])})}},ut={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{fields:e.fields,items:e.exceptionInfos},scopedSlots:e._u([{key:"异常栈",fn:function(t){return[n("b-button",{attrs:{size:"sm"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[e._v("异常栈")])]}},{key:"row-details",fn:function(t){return[n("pre",[n("code",{domProps:{textContent:e._s(t.item.exceptionStack)}})])]}}])})},staticRenderFns:[]};var lt={name:"adminExceptionInfoPage",components:{navbar:F,"exception-info-table":n("VU/8")(ot,ut,!1,function(e){n("rQqe")},"data-v-06948d3a",null).exports}},ct={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("exception-info-table")],1)],1)],1)},staticRenderFns:[]};var mt=n("VU/8")(lt,ct,!1,function(e){n("ushW")},"data-v-728a0589",null).exports,dt="/admin/permission";var ft={addPermission:function(e,t){return _.instance.post(dt+"/addPermission",{permissionId:e,permissionName:t})},removePermission:function(e){return _.instance.post(dt+"/removePermission",{permissionId:e})},getPermission:function(e){return _.instance.get(dt+"/getPermission",{params:{permissionId:e}})},listPermission:function(e,t,n,r,i,s){return _.instance.get(dt+"/listPermission",{params:{pageSize:e,page:t,permissionId:n,permissionName:r,createTime:i,updateTime:s}})},getPermissionAuthorization:function(e){return _.instance.get(dt+"/getPermissionAuthorization",{params:{permissionId:e}})},listPermissionAuthorization:function(e,t,n,r,i,s){return _.instance.get(dt+"/listPermissionAuthorization",{params:{pageSize:e,page:t,permissionId:n,permissionName:r,createTime:i,updateTime:s}})},changePermission:function(e,t){return _.instance.post(dt+"/changePermission",{permissionId:e,permissionName:t})},checkAddPermission:function(e,t){return _.instance.get(dt+"/checkAddPermission",{params:{permissionId:e,permissionName:t}})},checkChangePermission:function(e,t){return _.instance.get(dt+"/checkChangePermission",{params:{permissionId:e,permissionName:t}})}};var pt={addPermission:function(e){return _.logined()&&m.checkParameterAnd("确认添加权限？",e,"permissionId","permissionName")?ft.addPermission(e.permissionId,e.permissionName):_.createEmtryAxios()},removePermission:function(e){return _.logined()&&m.checkParameterAnd("确认删除权限？",e,"permissionId")?ft.removePermission(e.permissionId):_.createEmtryAxios()},listAllPermission:function(){return _.logined()?ft.listPermission(100,1,0,null,null,null):_.createEmtryAxios()},listAllPermissionAuthorization:function(){return _.logined()?ft.listPermissionAuthorization(100,1,0,null,null,null):_.createEmtryAxios()},changePermission:function(e){return _.logined()&&m.checkParameterAnd("确认修改权限？",e,"permissionId","permissionName")?ft.changePermission(e.permissionId,e.permissionName):_.createEmtryAxios()}},ht="/admin/authorization";var gt={addAuthorization:function(e,t){return _.instance.post(ht+"/addAuthorization",{userId:e,permissionId:t})},removeAuthorization:function(e){return _.instance.post(ht+"/removeAuthorization",{authorizationId:e})},getAuthorization:function(e){return _.instance.get(ht+"/getAuthorization",{params:{authorizationId:e}})},getAuthorizationCount:function(e,t,n,r,i,s,a){return _.instance.get(ht+"/getAuthorizationCount",{params:{pageSize:e,page:t,authorizationId:n,userId:r,permissionId:i,createTime:s,updateTime:a}})},listAuthorization:function(e,t,n,r,i,s,a){return _.instance.get(ht+"/listAuthorization",{params:{pageSize:e,page:t,authorizationId:n,userId:r,permissionId:i,createTime:s,updateTime:a}})},changeAuthorization:function(e,t,n){return _.instance.post(ht+"/changeAuthorization",{authorizationId:e,userId:t,permissionId:n})},checkAddAuthorization:function(e,t){return _.instance.get(ht+"/checkAddAuthorization",{params:{userId:e,permissionId:t}})},checkChangeAuthorization:function(e,t,n){return _.instance.get(ht+"/checkChangeAuthorization",{params:{authorizationId:e,userId:t,permissionId:n}})}};var vt={addAuthorization:function(e){return _.logined()&&m.checkParameterAnd("确认添加授权？",e,"userId","permissionId")?gt.addAuthorization(e.userId,e.permissionId):_.createEmtryAxios()},removeAuthorization:function(e){return _.logined()&&m.checkParameterAnd("确认删除授权？",e,"authorizationId")?gt.removeAuthorization(e.authorizationId):_.createEmtryAxios()},createAuthorizationQuery:function(){return{pageSize:20,page:1,authorizationId:0,userId:0,permissionId:0}},getAuthorizationCount:function(e){return _.logined()&&m.checkQueryParameter(authorization)?gt.getAuthorizationCount(e.pageSize,e.page,e.authorizationId,e.userId,e.permissionId,null,null):_.createEmtryAxios()},listAuthorization:function(e){return _.logined()&&m.checkQueryParameter(authorization)?gt.listAuthorization(e.pageSize,e.page,e.authorizationId,e.userId,e.permissionId,null,null):_.createEmtryAxios()}},bt={name:"userAuthorizationTable",data:function(){return{fields:[{key:"username",label:"账号"},{key:"authorization",label:"授权"},"操作"],permissions:[],userAuthorizations:[]}},watch:{userAuthorizations:function(e){this.userAuthorizations=e;for(var t=0;t<this.userAuthorizations.length;t++)this.userAuthorizations[t]=M.initUserAuthorization(this.userAuthorizations[t])}},created:function(){this.created()},methods:{created:function(){this.listAllPermission(),this.listAllUserAuthorization()},listAllPermission:function(){var e=this;this.permissions=[],pt.listAllPermission().then(function(t){for(var n=0;n<t.data.data.length;n++)e.permissions.push({value:t.data.data[n].permissionId,text:t.data.data[n].permissionName})})},listAllUserAuthorization:function(){var e=this;this.userAuthorizations=[],Me.listAllUserAuthorization().then(function(t){e.userAuthorizations=t.data.data})},addAuthorization:function(e){var t=this;vt.addAuthorization(this.userAuthorizations[e].authorizationForm).then(function(n){m.successInfo("添加成功"),t.userAuthorizations[e].authorizationForm.permissionId=0,t.listAllUserAuthorization()})},removeAuthorization:function(e,t){var n=this;vt.removeAuthorization(this.userAuthorizations[e].authorizations[t]).then(function(e){m.successInfo("删除成功"),n.listAllUserAuthorization()})}}},wt={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{hover:"",responsive:"",small:"","caption-top":"",fields:e.fields,items:e.userAuthorizations},scopedSlots:e._u([{key:"username",fn:function(t){return[e._v("\n    "+e._s(e.userAuthorizations[t.index].user.username)+"\n  ")]}},{key:"authorization",fn:function(t){return e._l(e.userAuthorizations[t.index].authorizations,function(r,i){return n("b-badge",{key:i,attrs:{title:r.updateTime}},[e._v("\n      "+e._s(r.permissionName)+"\n      "),n("b-link",{on:{click:function(n){e.removeAuthorization(t.index,i)}}},[e._v("×")])],1)})}},{key:"操作",fn:function(t){return[n("b-input-group",{attrs:{prepend:"",size:"sm"}},[n("b-form-select",{attrs:{options:e.permissions},model:{value:e.userAuthorizations[t.index].authorizationForm.permissionId,callback:function(n){e.$set(e.userAuthorizations[t.index].authorizationForm,"permissionId",n)},expression:"userAuthorizations[data.index].authorizationForm.permissionId"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-success"},on:{click:function(n){e.addAuthorization(t.index)}}},[e._v("添加")])],1)],1)]}}])})},staticRenderFns:[]};var It={name:"adminUserAuthorizationPage",components:{navbar:F,"user-authorization-table":n("VU/8")(bt,wt,!1,function(e){n("RCKT")},"data-v-3e31aeb5",null).exports}},yt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("user-authorization-table")],1)],1)],1)},staticRenderFns:[]};var kt=n("VU/8")(It,yt,!1,function(e){n("qH1b")},"data-v-acc20f88",null).exports,zt={name:"userForm",data:function(){return{userForm:{username:null,userPassword:null}}},methods:{addUser:function(){var e=this;Me.addUser(this.userForm).then(function(t){m.successInfo("添加成功"),e.userForm={username:null,userPassword:null}})}}},Tt={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{attrs:{inline:""}},[n("b-input",{attrs:{type:"text",size:"sm",placeholder:"账号"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}}),e._v(" "),n("b-input",{attrs:{type:"password",size:"sm",placeholder:"密码"},model:{value:e.userForm.userPassword,callback:function(t){e.$set(e.userForm,"userPassword",t)},expression:"userForm.userPassword"}}),e._v(" "),n("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:e.addUser}},[e._v("添加")])],1)},staticRenderFns:[]};var xt={name:"userTable",data:function(){return{fields:[{key:"username",label:"账号"},{key:"userPassword",label:"密码"},{key:"createTime",label:"创建时间"},{key:"updateTime",label:"更新时间"},"操作"],users:[]}},created:function(){this.listAllUser()},methods:{changeUser:function(e){var t=this;Me.changeUser(this.users[e]).then(function(e){m.successInfo("修改成功"),t.listAllUser()})},removeUser:function(e){var t=this;Me.removeUser(this.users[e]).then(function(e){m.successInfo("删除成功"),t.listAllUser()})},listAllUser:function(){var e=this;this.users=[],Me.listAllUser().then(function(t){e.users=t.data.data;for(var n=0;n<e.users.length;n++)e.users[n]=M.initUser(e.users[n])})}}},_t={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{hover:"",responsive:"",small:"","caption-top":"",fields:e.fields,items:e.users},scopedSlots:e._u([{key:"username",fn:function(t){return[n("b-form-input",{attrs:{type:"text",placeholder:"账号",size:"sm"},model:{value:e.users[t.index].username,callback:function(n){e.$set(e.users[t.index],"username",n)},expression:"users[data.index].username"}})]}},{key:"userPassword",fn:function(t){return[n("b-form-input",{attrs:{type:"password",placeholder:"密码",size:"sm"},model:{value:e.users[t.index].userPassword,callback:function(n){e.$set(e.users[t.index],"userPassword",n)},expression:"users[data.index].userPassword"}})]}},{key:"操作",fn:function(t){return[n("b-button-group",[n("b-button",{attrs:{variant:"warning",size:"sm"},on:{click:function(n){e.changeUser(t.index)}}},[e._v("修改")]),e._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){e.removeUser(t.index)}}},[e._v("删除")])],1)]}}])})},staticRenderFns:[]};var At={name:"adminUserPage",components:{navbar:F,"user-form":n("VU/8")(zt,Tt,!1,function(e){n("DFN7")},"data-v-1f90fbc8",null).exports,"user-table":n("VU/8")(xt,_t,!1,function(e){n("au4k")},"data-v-dd27a000",null).exports}},Pt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("user-form")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("user-table")],1)],1)],1)},staticRenderFns:[]};var Ot=n("VU/8")(At,Pt,!1,function(e){n("6lWF")},"data-v-f9656d36",null).exports,St={name:"permissionForm",data:function(){return{permissionForm:{permissionId:0,permissionName:null}}},methods:{addPermission:function(){var e=this;pt.addPermission(this.permissionForm).then(function(t){m.successInfo("添加成功"),e.permissionForm={permissionId:0,permissionName:null}})}}},Ut={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{attrs:{inline:""}},[n("b-input",{attrs:{type:"number",size:"sm",placeholder:"权限id"},model:{value:e.permissionForm.permissionId,callback:function(t){e.$set(e.permissionForm,"permissionId",t)},expression:"permissionForm.permissionId"}}),e._v(" "),n("b-input",{attrs:{type:"text",size:"sm",placeholder:"权限"},model:{value:e.permissionForm.permissionName,callback:function(t){e.$set(e.permissionForm,"permissionName",t)},expression:"permissionForm.permissionName"}}),e._v(" "),n("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:e.addPermission}},[e._v("添加")])],1)},staticRenderFns:[]};var Ft={name:"permissionTable",data:function(){return{fields:[{key:"permissionId",label:"权限id"},{key:"permissionName",label:"密码"},{key:"createTime",label:"创建时间"},{key:"updateTime",label:"更新时间"},"操作"],permissions:[]}},created:function(){this.listAllPermission()},methods:{changePermission:function(e){var t=this;pt.changePermission(this.permissions[e]).then(function(e){m.successInfo("修改成功"),t.listAllPermission()})},removePermission:function(e){var t=this;pt.removePermission(this.permissions[e]).then(function(e){m.successInfo("删除成功"),t.listAllPermission()})},listAllPermission:function(){var e=this;this.permissions=[],pt.listAllPermission().then(function(t){e.permissions=t.data.data;for(var n=0;n<e.permissions.length;n++)e.permissions[n]=M.initPermission(e.permissions[n])})}}},Nt={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{hover:"",responsive:"",small:"","caption-top":"",fields:e.fields,items:e.permissions},scopedSlots:e._u([{key:"permissionId",fn:function(t){return[n("b-form-input",{attrs:{type:"number",placeholder:"权限id",size:"sm"},model:{value:e.permissions[t.index].permissionId,callback:function(n){e.$set(e.permissions[t.index],"permissionId",n)},expression:"permissions[data.index].permissionId"}})]}},{key:"permissionName",fn:function(t){return[n("b-form-input",{attrs:{type:"text",placeholder:"密码",size:"sm"},model:{value:e.permissions[t.index].permissionName,callback:function(n){e.$set(e.permissions[t.index],"permissionName",n)},expression:"permissions[data.index].permissionName"}})]}},{key:"操作",fn:function(t){return[n("b-button-group",[n("b-button",{attrs:{variant:"warning",size:"sm"},on:{click:function(n){e.changePermission(t.index)}}},[e._v("修改")]),e._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){e.removePermission(t.index)}}},[e._v("删除")])],1)]}}])})},staticRenderFns:[]};var Et={name:"adminPermissionPage",components:{navbar:F,"permission-form":n("VU/8")(St,Ut,!1,function(e){n("vwox")},"data-v-ffa4a242",null).exports,"permission-table":n("VU/8")(Ft,Nt,!1,function(e){n("7w3o")},"data-v-982898f8",null).exports}},Ct={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("navbar")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("permission-form")],1)],1),this._v(" "),t("br"),this._v(" "),t("b-row",[t("b-col",[t("permission-table")],1)],1)],1)},staticRenderFns:[]};var Mt=n("VU/8")(Et,Ct,!1,function(e){n("PZ2f")},"data-v-0cd66066",null).exports,$t={name:"homePage",data:function(){return{sorts:["动漫","电影","游戏"],owns:[{url:"https://i.loli.net/2018/08/21/5b7bb5dd4f0df.png",md5:"4a2599540220af6579e287bcd96a7c35",fileLength:"1.64 MB",contentType:"image/png",username:"mycloud",fileName:"5b7bb5dd4f0df.png",sort:"动漫",description:"来自深渊",createTime:15357312e5,updateTime:15357312e5},{url:"https://i.loli.net/2018/08/21/5b7bbc8ec3633.jpg",md5:"84d91144667fb45e1ad9d8d213a089db",fileLength:"716 KB",contentType:"image/jpeg",username:"mycloud",fileName:"5b7bbc8ec3633.jpg",sort:"动漫",description:"宝石之国",createTime:15357312e5,updateTime:15357312e5},{url:"https://i.loli.net/2018/04/10/5accdcbcb1738.jpg",md5:"f1098091bf7c85bd106c412b1769d5c2",fileLength:"220 KB",contentType:"image/jpeg",username:"mycloud",fileName:"5accdcbcb1738.jpg",sort:"动漫",description:"少女终末旅行",createTime:15357312e5,updateTime:15357312e5}]}},methods:{changeOwn:function(e){m.successInfo("修改成功")},removeOwn:function(e){m.successInfo("删除成功")},turnPage:function(e){this.owns=this.owns.reverse()}},components:{navbar:F,"own-layout":ne}},Rt={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[n("navbar")],1)],1),e._v(" "),n("br"),e._v(" "),n("b-row",[n("b-col",{attrs:{sm:"0",md:"0",lg:"1",xl:"2"}}),e._v(" "),n("b-col",{attrs:{sm:"12",md:"12",lg:"10",xl:"8"}},[n("b-card",{attrs:{"img-src":"https://i.loli.net/2018/09/11/5b96976fb4a80.png","img-alt":"苍之萤","text-variant":"black",title:"","sub-title":""}},[n("h2",[n("b",[e._v("我在这里的时候经常想，以前的人为什么总是留下记录呢？因为他们不想让有些事情发生改变。")])]),e._v(" "),n("p",{staticClass:"text-right"},[n("b",[e._v("——苍之萤")])])])],1),e._v(" "),n("b-col",{attrs:{sm:"0",md:"0",lg:"1",xl:"2"}})],1),e._v(" "),n("br"),e._v(" "),n("own-layout",{attrs:{owns:e.owns,total:40,pageSize:20},on:{changeOwn:e.changeOwn,removeOwn:e.removeOwn,turnPage:e.turnPage}})],1)},staticRenderFns:[]};var Lt=n("VU/8")($t,Rt,!1,function(e){n("ClYl")},"data-v-01d02713",null).exports;r.a.use(a.a);var Qt=new a.a({routes:[{path:"/",name:"homePage",component:Lt,meta:{title:"mycloud-首页"}},{path:"/user/queryUploadFile",name:"userQueryUploadFilePage",component:ye,meta:{title:"mycloud-查询上传"}},{path:"/user/own",name:"userOwnPage",component:ue,meta:{title:"mycloud-文件管理"}},{path:"/user/user",name:"userUserPage",component:Oe,meta:{title:"mycloud-个人主页"}},{path:"/admin/own",name:"adminOwnPage",component:Le,meta:{title:"mycloud-所属管理"}},{path:"/admin/driveInfo",name:"adminDriveInfoPage",component:Je,meta:{title:"mycloud-文件配置"}},{path:"/admin/task",name:"adminTaskPage",component:rt,meta:{title:"mycloud-任务日志"}},{path:"/admin/exceptionInfo",name:"adminExceptionInfoPage",component:mt,meta:{title:"mycloud-异常日志"}},{path:"/admin/user",name:"adminUserPage",component:Ot,meta:{title:"mycloud-用户管理"}},{path:"/admin/permission",name:"adminPermissionPage",component:Mt,meta:{title:"mycloud-权限管理"}},{path:"/admin/userAuthorization",name:"adminUserAuthorizationPage",component:kt,meta:{title:"mycloud-授权管理"}}]});Qt.beforeEach(function(e,t,n){e.meta.title&&(document.title=e.meta.title),n()});var Dt=Qt,Vt=n("e6fC");n("Jmt5"),n("9M+g");r.a.use(Vt.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:Dt,components:{App:s},template:"<App/>"})},OxiG:function(e,t){},PVaj:function(e,t){},PZ2f:function(e,t){},Qu5K:function(e,t){},R2p5:function(e,t){},RCKT:function(e,t){},VyMR:function(e,t){},YEan:function(e,t){},YM38:function(e,t){},YlB8:function(e,t){},Z7RD:function(e,t){},au4k:function(e,t){},dDvg:function(e,t){},duvx:function(e,t){},fd5x:function(e,t){},i3kx:function(e,t){},jJYA:function(e,t){},lJ7D:function(e,t){},qH1b:function(e,t){},rQqe:function(e,t){},raIf:function(e,t){},"t/er":function(e,t){},ushW:function(e,t){},vQJW:function(e,t){},vwox:function(e,t){},wWpa:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);